import{j as e}from"./ui-DskC_GZ4.js";import{r as o}from"./vendor-BlHcAAdO.js";import{c as H,W as z,K as D,ac as F,k as O,_ as h,a3 as R,ar as k,L as p,B as V,R as l,t as W,a2 as _,I as q,T as K,V as j}from"./index-fU-TRYU7.js";import{C as f,a as N,b as M,c as C}from"./card-BKNPTKQ9.js";import{P as G}from"./pet-avatar-CuQyVzr2.js";import{A as g}from"./arrow-left-Dxp14MfC.js";import{C as J}from"./calendar-BJg_nOUc.js";import{I as Q}from"./info-Dqd7-vNn.js";import{C as X}from"./clock-BvbAatTJ.js";import{H as Y}from"./heart-C2PLtpQF.js";import{P as u,M as P}from"./phone-zyjSBqy0.js";import{M as L}from"./map-pin-CaB-Fh_N.js";import"./supabase-C9Ps4N4y.js";import"./charts-DDg0wrp5.js";import"./paw-print-nX1O6nEh.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=H("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),he=()=>{const{id:c}=z(),[s,I]=o.useState(null),[B,y]=o.useState(!0),[T,d]=o.useState(!1);D();const{isAuthenticated:S}=F(),{t:v}=O();o.useEffect(()=>{(async()=>{if(!c){d(!0),y(!1);return}try{const{data:n,error:w}=await K.from("pets").select("*").eq("id",c).single();w?(j.error("Error fetching pet",{error:w,petId:c}),d(!0)):n?(j.info("Pet data fetched successfully",{petId:c,petName:n.name}),I(n)):d(!0)}catch(n){j.error("Error fetching pet profile",{error:n,petId:c}),d(!0)}finally{y(!1)}})()},[c]);const m=t=>t?new Date(t).toLocaleDateString():"N/A";if(B)return e.jsx(h,{children:e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(R,{size:"lg",text:"Loading pet profile..."})})});if(T||!s)return e.jsx(h,{children:e.jsx("div",{className:"container mx-auto py-10 px-4",children:e.jsx(f,{children:e.jsxs(N,{className:"flex flex-col items-center justify-center p-10",children:[e.jsx(k,{className:"h-12 w-12 text-amber-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Pet Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The pet profile you're looking for doesn't exist or may have been removed."}),e.jsx(p,{to:"/dashboard/pets",children:e.jsxs(V,{children:[e.jsx(g,{className:"mr-2 h-4 w-4"})," Back to My Pets"]})})]})})})});const b=s.name||"Unknown",x=s.type||"Unknown",U=s.breed||"Unknown",E=s.gender?s.gender.charAt(0).toUpperCase()+s.gender.slice(1):"Unknown",a=s.medical_info||{},r=s.emergency_contact||{},i=a.veterinarian||{};return e.jsx(h,{children:e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-6",children:[S?e.jsxs(p,{to:"/dashboard/pets",className:"inline-flex items-center text-pet-primary hover:underline mb-4",children:[e.jsx(g,{className:"h-4 w-4 mr-1"})," ",v("dashboard.backToPets")||"Back to My Pets"]}):e.jsxs(p,{to:"/",className:"inline-flex items-center text-pet-primary hover:underline mb-4",children:[e.jsx(g,{className:"h-4 w-4 mr-1"})," ",v("tagPage.backToHome")||"Back to Home"]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(G,{src:s.profile_image_url,fallback:b.charAt(0),size:"xl",petType:x,className:"h-32 w-32"}),e.jsx(l,{className:"mt-4",variant:"outline",children:x.charAt(0).toUpperCase()+x.slice(1)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold",children:b}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.breed&&e.jsx(l,{variant:"secondary",children:U}),s.gender&&e.jsx(l,{variant:"secondary",children:E}),s.color&&e.jsx(l,{variant:"secondary",children:s.color})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.birthday&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-pet-primary"}),e.jsxs("span",{children:["Born: ",m(s.birthday)]})]}),s.microchip_id&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-pet-primary"}),e.jsxs("span",{children:["ID: ",s.microchip_id]})]}),s.weight_kg&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-pet-primary"}),e.jsxs("span",{children:["Weight: ",s.weight_kg," kg"]})]}),s.last_scanned_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-pet-primary"}),e.jsxs("span",{children:["Last Scanned: ",m(s.last_scanned_at)]})]})]}),s.notes&&e.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md",children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Notes"}),e.jsx("p",{children:s.notes})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 my-8",children:[e.jsxs(f,{children:[e.jsx(M,{children:e.jsxs(C,{className:"flex items-center",children:[e.jsx(Y,{className:"h-5 w-5 mr-2 text-pet-primary"}),"Medical Information"]})}),e.jsxs(N,{className:"space-y-4",children:[a.blood_type&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Blood Type"}),e.jsx("p",{children:a.blood_type})]}),a.conditions&&a.conditions.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Conditions"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.conditions.map((t,n)=>e.jsx(l,{variant:"outline",children:t},n))})]}),a.allergies&&a.allergies.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Allergies"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.allergies.map((t,n)=>e.jsx(l,{variant:"outline",children:t},n))})]}),a.medications&&a.medications.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Medications"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.medications.map((t,n)=>e.jsx(l,{variant:"outline",children:t},n))})]}),a.last_checkup&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Last Checkup"}),e.jsx("p",{children:m(a.last_checkup)})]}),a.next_checkup&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Next Checkup"}),e.jsx("p",{children:m(a.next_checkup)})]}),a.medical_notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Medical Notes"}),e.jsx("p",{className:"text-sm",children:a.medical_notes})]})]})]}),e.jsxs(f,{children:[e.jsx(M,{children:e.jsxs(C,{className:"flex items-center",children:[e.jsx(u,{className:"h-5 w-5 mr-2 text-pet-primary"}),"Contact Information"]})}),e.jsxs(N,{className:"space-y-6",children:[Object.keys(i).some(t=>i[t])&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold flex items-center mb-3",children:[e.jsx(A,{className:"h-4 w-4 mr-1"})," Veterinarian"]}),e.jsxs("div",{className:"space-y-2",children:[i.name&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{children:i.name})]}),i.clinic&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{children:i.clinic})]}),i.phone&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{children:i.phone})]}),i.email&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{children:i.email})]}),i.address&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{className:"flex-1",children:i.address})]})]})]}),Object.keys(r).some(t=>r[t])&&e.jsxs("div",{children:[e.jsx(q,{className:"my-4"}),e.jsxs("h4",{className:"font-semibold flex items-center mb-3",children:[e.jsx(k,{className:"h-4 w-4 mr-1"})," Emergency Contact"]}),e.jsxs("div",{className:"space-y-2",children:[r.name&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{children:r.name}),r.relationship&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",r.relationship,")"]})]}),r.phone&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{children:r.phone})]}),r.email&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{children:r.email})]}),r.address&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{className:"flex-1",children:r.address})]})]})]})]})]})]})]})})};export{he as default};
