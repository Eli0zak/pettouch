import{j as e}from"./ui-DskC_GZ4.js";import{r as g}from"./vendor-BlHcAAdO.js";import{K as U,N as Q,k as X,T as S,a3 as H,Y as ee,B as _,W as ae,ac as te,V as d,_ as D,ar as se,L,a5 as oe,at as re,R as ie,a2 as z,I as q,t as ne}from"./index-fU-TRYU7.js";import{C as I,a as G,b as W,c as $,d as V}from"./card-BKNPTKQ9.js";import{P as Z}from"./pet-avatar-CuQyVzr2.js";import{D as ce,b as le,c as de,d as ge,e as me}from"./dialog-D6ZzA_3-.js";import{S as ue,a as fe,b as xe,c as he,d as pe}from"./select-CjVjgBc2.js";import{L as R}from"./link-Cekgv5dY.js";import{A as je}from"./arrow-left-Dxp14MfC.js";import{C as ve}from"./calendar-BJg_nOUc.js";import{H as Ne}from"./heart-C2PLtpQF.js";import{I as K}from"./info-Dqd7-vNn.js";import{P as Y,M as ye}from"./phone-zyjSBqy0.js";import"./supabase-C9Ps4N4y.js";import"./charts-DDg0wrp5.js";import"./paw-print-nX1O6nEh.js";function J({tagCode:P,tagId:o,open:y,onOpenChange:k,onSuccess:f}){const[T,w]=g.useState([]),[u,x]=g.useState(""),[O,E]=g.useState(!0),[r,l]=g.useState(!1),{toast:m}=U(),s=Q(),{t:c}=X();g.useEffect(()=>{if(y){const a=setTimeout(()=>{console.log("Requesting location permission when dialog opens...");try{navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{console.log("Geolocation permission granted in dialog on open")},t=>{console.error("Geolocation error in dialog on open:",t.code,t.message)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})}catch(t){console.error("Error requesting location in dialog on open:",t)}},500);return()=>clearTimeout(a)}},[y]),g.useEffect(()=>{y&&h()},[y]);const h=async()=>{E(!0);try{const{data:{user:a}}=await S.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:t,error:j}=await S.from("pets").select("*").eq("owner_id",a.id);if(j)throw j;w(t||[]),t&&t.length===1&&x(t[0].id)}catch(a){console.error("Error fetching pets:",a),m({title:c("error"),description:a.message||c("Failed to load your pets"),variant:"destructive"})}finally{E(!1)}},M=async()=>{if(!u){m({title:c("error"),description:c("nfcTags.linkDialog.selectError"),variant:"destructive"});return}l(!0);try{const{data:{user:a}}=await S.auth.getUser();if(!a)throw new Error("User not authenticated");const{error:t}=await S.from("nfc_tags").update({pet_id:u,user_id:a.id,status:"assigned",last_updated:new Date().toISOString()}).eq("id",o);if(t)throw t;await F(o,u,a.id),m({title:c("success"),description:c("nfcTags.linkDialog.success")}),f&&f(),k(!1),s(`/pet/${u}`)}catch(a){m({title:c("error"),description:a.message||c("nfcTags.linkDialog.error"),variant:"destructive"})}finally{l(!1)}},F=async(a,t,j)=>{try{const b={userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,browser:C(),os:B(),device:A()};let v=null;const n=(i=null)=>{console.log("Saving tag link with location data:",i),S.from("nfc_scans").insert({tag_id:a,pet_id:t,user_id:j,device_info:b,location:i,scanner_ip:null}).then(N=>{N.error?console.error("Error inserting scan record from dialog:",N.error):console.log("Scan record from dialog inserted successfully")})};try{console.log("Checking if geolocation is available in dialog..."),navigator.geolocation?(console.log("Requesting geolocation access from dialog..."),n(null),navigator.geolocation.getCurrentPosition(i=>{console.log("Geolocation access granted in dialog:",i),v={coordinates:{lat:i.coords.latitude,lng:i.coords.longitude},accuracy:i.coords.accuracy,timestamp:i.timestamp,address:"تم تحديد الموقع"},n(v)},i=>{console.error("Geolocation error in dialog:",i.code,i.message);let N="تعذر الوصول إلى بيانات الموقع";i.code===1?N="تم رفض إذن الوصول للموقع. يرجى السماح بالوصول من إعدادات المتصفح":i.code===2?N="تعذر تحديد الموقع. تأكد من تفعيل خدمة GPS وأنك متصل بالإنترنت":i.code===3&&(N="انتهت مهلة طلب الموقع. حاول مرة أخرى")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})):(console.log("Browser does not support geolocation"),v={address:"موقع غير محدد",error:"المتصفح لا يدعم خاصية تحديد الموقع"},n(v))}catch(i){console.error("Location access issue in dialog:",i);let N="تعذر الوصول إلى بيانات الموقع";i.code===1?N="تم رفض إذن الوصول للموقع. يرجى السماح بالوصول من إعدادات المتصفح":i.code===2?N="تعذر تحديد الموقع. تأكد من تفعيل خدمة GPS وأنك متصل بالإنترنت":i.code===3&&(N="انتهت مهلة طلب الموقع. حاول مرة أخرى"),v={address:"موقع غير محدد",error:N},n(v)}}catch(b){console.error("Error logging scan:",b)}},C=()=>{const a=navigator.userAgent;let t="Unknown";return a.indexOf("Firefox")>-1?t="Firefox":a.indexOf("SamsungBrowser")>-1?t="Samsung Browser":a.indexOf("Opera")>-1||a.indexOf("OPR")>-1?t="Opera":a.indexOf("Trident")>-1?t="Internet Explorer":a.indexOf("Edge")>-1?t="Edge":a.indexOf("Chrome")>-1?t="Chrome":a.indexOf("Safari")>-1&&(t="Safari"),t},B=()=>{const a=navigator.userAgent;let t="Unknown";return a.indexOf("Win")>-1?t="Windows":a.indexOf("Mac")>-1?t="MacOS":a.indexOf("Linux")>-1?t="Linux":a.indexOf("Android")>-1?t="Android":a.indexOf("like Mac")>-1&&(t="iOS"),t},A=()=>{const a=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(a)?"Tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(a)?"Mobile":"Desktop"},p=()=>{k(!1),s("/dashboard/pets")};return e.jsx(ce,{open:y,onOpenChange:k,children:e.jsxs(le,{children:[e.jsxs(de,{children:[e.jsx(ge,{children:c("nfcTags.linkDialog.title")}),e.jsx(me,{children:c("nfcTags.linkDialog.description",{tagCode:P})})]}),O?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(H,{size:"lg",text:c("nfcTags.linkDialog.loadingPets")})}):T.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"pet-select",children:c("nfcTags.linkDialog.selectPet")}),e.jsxs(ue,{value:u,onValueChange:x,children:[e.jsx(fe,{id:"pet-select",children:e.jsx(xe,{placeholder:c("nfcTags.linkDialog.choosePet")})}),e.jsx(he,{children:T.map(a=>e.jsx(pe,{value:a.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{src:a.profile_image_url,fallback:a.name.charAt(0),size:"sm",petType:a.type}),e.jsxs("span",{children:[a.name," (",a.type,")"]})]})},a.id))})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx(_,{type:"button",variant:"outline",onClick:p,children:c("nfcTags.linkDialog.addNewPet")}),e.jsx(_,{onClick:M,disabled:!u||r,className:"bg-pet-primary hover:bg-pet-secondary",children:r?e.jsxs(e.Fragment,{children:[e.jsx(H,{size:"sm",className:"mr-2"})," ",c("nfcTags.linkDialog.linking")]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"mr-2 h-4 w-4"})," ",c("nfcTags.linkDialog.linkPet")]})})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("p",{className:"mb-4",children:c("nfcTags.linkDialog.noPets")}),e.jsx(_,{onClick:p,className:"bg-pet-primary hover:bg-pet-secondary",children:c("nfcTags.linkDialog.addFirstPet")})]})]})})}function we(){const[P,o]=g.useState(null),[y,k]=g.useState(!1),[f,T]=g.useState(null),{toast:w}=U(),u=async()=>{try{if(console.log("Checking geolocation permission..."),navigator.permissions&&navigator.permissions.query){console.log("Using Permissions API to check geolocation status");const r=await navigator.permissions.query({name:"geolocation"});return console.log("Permission status:",r.state),r.state}return navigator.geolocation?(console.log("Browser supports geolocation, but Permissions API not available"),"prompt"):(console.log("Browser does not support geolocation"),"denied")}catch(r){return console.error("Error checking geolocation permission:",r),"unknown"}},x=()=>{if(console.log("Requesting location directly..."),!navigator.geolocation){console.error("Geolocation API not available"),w({title:"خطأ في تحديد الموقع",description:"متصفحك لا يدعم خدمة تحديد الموقع",variant:"destructive"});return}navigator.geolocation.getCurrentPosition(r=>{console.log("Got position directly:",r);const l={coordinates:{lat:r.coords.latitude,lng:r.coords.longitude},accuracy:r.coords.accuracy,timestamp:r.timestamp,address:"تم تحديد الموقع"};o(l),T(null)},r=>{console.error("Direct geolocation error:",r),O(r)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},O=r=>{let l="تعذر الوصول إلى بيانات الموقع";console.error("Geolocation error details:",{code:r.code,message:r.message,PERMISSION_DENIED:r.code===1,POSITION_UNAVAILABLE:r.code===2,TIMEOUT:r.code===3}),r.code===1?(l="تم رفض إذن الوصول للموقع. يرجى السماح بالوصول من إعدادات المتصفح",w({title:"خطأ في تحديد الموقع",description:l,variant:"destructive"})):r.code===2?(l="تعذر تحديد الموقع. تأكد من تفعيل خدمة GPS وأنك متصل بالإنترنت",w({title:"تعذر تحديد الموقع",description:l,variant:"destructive"})):r.code===3&&(l="انتهت مهلة طلب الموقع. حاول مرة أخرى",w({title:"طلب الموقع استغرق وقتاً طويلاً",description:l,variant:"destructive"})),T(l)};return{locationData:P,loading:y,error:f,requestLocation:async()=>{console.log("Starting location request process..."),k(!0),T(null);try{if(!navigator.geolocation)throw new Error("Browser does not support geolocation");const r=await u();if(console.log("Current geolocation permission state:",r),r==="denied")throw{code:1,message:"Location permission denied"};console.log("Requesting geolocation with Promise...");const l=await new Promise((s,c)=>{navigator.geolocation.getCurrentPosition(h=>{console.log("Position obtained successfully:",{lat:h.coords.latitude,lng:h.coords.longitude,accuracy:h.coords.accuracy}),s(h)},h=>{console.error("Geolocation error in promise:",h),c(h)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})}),m={coordinates:{lat:l.coords.latitude,lng:l.coords.longitude},accuracy:l.coords.accuracy,timestamp:l.timestamp,address:"تم تحديد الموقع (يمكن استخدام خدمة Geocoding للحصول على العنوان)"};return console.log("Setting location data:",m),o(m),m}catch(r){return console.error("Error getting location:",r),O(r),{address:"موقع غير محدد",error:f||"تعذر الوصول إلى بيانات الموقع"}}finally{k(!1)}},requestLocationDirectly:x,checkPermission:u}}const Be=()=>{const{tagCode:P}=ae(),[o,y]=g.useState(null),[k,f]=g.useState(!0),[T,w]=g.useState(!1),[u,x]=g.useState(!1),[O,E]=g.useState(!1),{toast:r}=U();Q();const{isAuthenticated:l,userId:m}=te(),{t:s}=X();we(),g.useEffect(()=>{const a=setTimeout(()=>{d.geolocation("Requesting location permission automatically on page load");try{navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{d.geolocation("Geolocation permission granted on page load")},t=>{d.error("Geolocation error on page load",{code:t.code,message:t.message},"GEOLOCATION")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})}catch(t){d.error("Error requesting location on page load",t,"GEOLOCATION")}},1e3);return()=>clearTimeout(a)},[]),g.useEffect(()=>{(async()=>{if(!P){w(!0),f(!1);return}try{const{data:t,error:j}=await S.from("nfc_tags").select(`
            id,
            tag_code,
            pet_id,
            user_id,
            is_active,
            created_at,
            activated_at,
            notes,
            tag_type,
            status,
            last_updated,
            pet:pet_id (
              id,
              name,
              profile_image_url,
              type,
              breed,
              color,
              gender,
              notes,
              birthday,
              weight_kg,
              medical_info,
              emergency_contact,
              veterinarian,
              owner_id,
              owner:owner_id (
                first_name,
                last_name,
                phone,
                email
              )
            )
          `).eq("tag_code",P).single();if(j){d.error("Error fetching tag",j,"TAG_FETCH"),w(!0),f(!1);return}y(t),t.pet&&await c(P,t.pet.id),l&&m&&!t.user_id&&!t.pet&&x(!0),l&&m&&t.user_id===m&&!t.pet&&x(!0)}catch(t){d.error("Error fetching tag and pet data",t,"TAG_FETCH"),w(!0)}finally{f(!1)}})()},[P,l,m]);const c=async(a,t)=>{try{const j={userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,browser:h(),os:M(),device:F()};let b=null;const v=(n=null)=>{d.nfcScan("Saving scan with location data",{locationInfo:n,tagId:a,petId:t}),S.from("nfc_scans").insert({tag_id:a,pet_id:t,user_id:m||null,device_info:j,location:n,scanner_ip:null}).then(i=>{i.error?d.error("Error inserting scan record",i.error,"NFC_SCAN"):d.nfcScan("Scan record inserted successfully")})};try{d.geolocation("Checking if geolocation is available"),navigator.geolocation?(d.geolocation("Requesting geolocation access for scan logging"),v(null),navigator.geolocation.getCurrentPosition(n=>{d.geolocation("Geolocation access granted for scan",{lat:n.coords.latitude,lng:n.coords.longitude,accuracy:n.coords.accuracy}),b={coordinates:{lat:n.coords.latitude,lng:n.coords.longitude},accuracy:n.coords.accuracy,timestamp:n.timestamp,address:"تم تحديد الموقع"},d.geolocation("Updating scan with location data"),v(b)},n=>{d.error("Geolocation error in scan",{code:n.code,message:n.message},"GEOLOCATION");let i="تعذر الوصول إلى بيانات الموقع";n.code===1?(i="تم رفض إذن الوصول للموقع. يرجى السماح بالوصول من إعدادات المتصفح",r({title:s("tagPage.locationError"),description:i,variant:"destructive"})):n.code===2?i="تعذر تحديد الموقع. تأكد من تفعيل خدمة GPS وأنك متصل بالإنترنت":n.code===3&&(i="انتهت مهلة طلب الموقع. حاول مرة أخرى")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})):(d.geolocation("Browser does not support geolocation"),b={address:"موقع غير محدد",error:"المتصفح لا يدعم خاصية تحديد الموقع"},v(b))}catch(n){d.error("Location access issue",n,"GEOLOCATION");let i="تعذر الوصول إلى بيانات الموقع";n.code===1?(i="تم رفض إذن الوصول للموقع. يرجى السماح بالوصول من إعدادات المتصفح",r({title:s("tagPage.locationError"),description:i,variant:"destructive"})):n.code===2?i="تعذر تحديد الموقع. تأكد من تفعيل خدمة GPS وأنك متصل بالإنترنت":n.code===3&&(i="انتهت مهلة طلب الموقع. حاول مرة أخرى"),b={address:"موقع غير محدد",error:i},v(b)}}catch(j){d.error("Error logging scan",j,"NFC_SCAN")}},h=()=>{const a=navigator.userAgent;let t="Unknown";return a.indexOf("Firefox")>-1?t="Firefox":a.indexOf("SamsungBrowser")>-1?t="Samsung Browser":a.indexOf("Opera")>-1||a.indexOf("OPR")>-1?t="Opera":a.indexOf("Trident")>-1?t="Internet Explorer":a.indexOf("Edge")>-1?t="Edge":a.indexOf("Chrome")>-1?t="Chrome":a.indexOf("Safari")>-1&&(t="Safari"),t},M=()=>{const a=navigator.userAgent;let t="Unknown";return a.indexOf("Win")>-1?t="Windows":a.indexOf("Mac")>-1?t="MacOS":a.indexOf("Linux")>-1?t="Linux":a.indexOf("Android")>-1?t="Android":a.indexOf("like Mac")>-1&&(t="iOS"),t},F=()=>{const a=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(a)?"Tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(a)?"Mobile":"Desktop"},C=async()=>{f(!0);try{if(o){const{data:a,error:t}=await S.from("nfc_tags").select(`
            id,
            tag_code,
            pet_id,
            user_id,
            is_active,
            created_at,
            activated_at,
            notes,
            tag_type,
            status,
            last_updated,
            pet:pet_id (
              id,
              name,
              profile_image_url,
              type,
              breed,
              color,
              gender,
              notes,
              birthday,
              weight_kg,
              medical_info,
              emergency_contact,
              veterinarian,
              owner_id,
              owner:owner_id (
                first_name,
                last_name,
                phone,
                email
              )
            )
          `).eq("id",o.id).single();if(t)throw t;y(a),a.pet&&await c(a.tag_code,a.pet.id)}}catch(a){d.error("Error refreshing tag data",a,"TAG_REFRESH")}finally{f(!1)}},B=a=>a?new Date(a).toLocaleDateString():s("N/A");if(k||O)return e.jsx(D,{children:e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(H,{size:"lg",text:s(O?"tagPage.claimingTag":"tagPage.loadingTag")})})});if(T||!o)return e.jsx(D,{children:e.jsx("div",{className:"container mx-auto py-10 px-4",children:e.jsx(I,{children:e.jsxs(G,{className:"flex flex-col items-center justify-center p-10",children:[e.jsx(se,{className:"h-12 w-12 text-amber-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:s("tagPage.tagNotFound")}),e.jsx("p",{className:"text-gray-600 mb-6",children:s("tagPage.tagNotFoundDesc")}),e.jsx("div",{className:"flex flex-col items-center gap-4",children:e.jsx(L,{to:"/",className:"mt-2",children:e.jsxs(_,{variant:"outline",children:[e.jsx(je,{className:"mr-2 h-4 w-4"})," ",s("tagPage.backToHome")]})})})]})})})});if(!o.pet_id||!o.pet||!o.user_id)return e.jsx(D,{children:e.jsx("div",{className:"container mx-auto py-10 px-4",children:e.jsxs(I,{children:[e.jsxs(W,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),s("tagPage.nfcTag")," - ",o.tag_code]}),e.jsx(V,{children:o.user_id?s("tagPage.notLinkedYet"):s("tagPage.unownedTag")})]}),e.jsx(G,{className:"space-y-6",children:l?e.jsx(e.Fragment,{children:o.user_id===m?e.jsxs("div",{className:"bg-muted/30 p-4 rounded-md",children:[e.jsx("h3",{className:"font-medium mb-2",children:s("tagPage.linkThisTag")}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s("tagPage.linkTagDescription")}),e.jsxs(_,{onClick:()=>x(!0),className:"w-full",size:"lg",children:[e.jsx(R,{className:"mr-2 h-4 w-4"})," ",s("tagPage.linkPetToTag")]}),e.jsx(J,{tagCode:o.tag_code,tagId:o.id,open:u,onOpenChange:x,onSuccess:C})]}):o.user_id?e.jsx("div",{className:"bg-muted/30 p-4 rounded-md",children:e.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:s("tagPage.tagOwnedByOther")})}):e.jsxs("div",{className:"bg-muted/30 p-4 rounded-md",children:[e.jsx("h3",{className:"font-medium mb-2",children:s("tagPage.claimAndLinkTag")}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s("tagPage.unownedTagDescription")}),e.jsxs(_,{onClick:()=>x(!0),className:"w-full",size:"lg",children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),s("tagPage.claimAndLinkPet")]}),e.jsx(J,{tagCode:o.tag_code,tagId:o.id,open:u,onOpenChange:x,onSuccess:C})]})}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(re,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:s("tagPage.tagMessage")}),e.jsx("p",{className:"text-muted-foreground mb-4",children:o.user_id?s("tagPage.tagNotLinkedMessage"):s("tagPage.unownedTagMessage")}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(L,{to:`/auth?redirect=/tag/${P}`,children:e.jsx(_,{children:s("tagPage.signIn")})}),e.jsx(L,{to:"/",children:e.jsx(_,{variant:"outline",children:s("tagPage.backToHome")})})]})]})})]})})});const A=o.pet.name||s("tagPage.unknown"),p=o.pet.emergency_contact||{};return e.jsx(D,{children:e.jsx("div",{className:"container mx-auto py-10 px-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx(I,{children:e.jsxs(G,{className:"flex flex-col items-center p-6",children:[e.jsxs("div",{className:"mb-4 relative",children:[e.jsx(Z,{src:o.pet.profile_image_url,fallback:A.charAt(0),size:"xl",petType:o.pet.type,className:"w-32 h-32"}),e.jsx(ie,{className:"absolute bottom-0 right-0 bg-pet-primary",children:o.pet.type})]}),e.jsx("h1",{className:"text-2xl font-bold",children:A}),e.jsx("p",{className:"text-muted-foreground",children:o.pet.breed||o.pet.type}),e.jsx("div",{className:"w-full mt-6",children:e.jsx(L,{to:`/pet/${o.pet.id}`,children:e.jsx(_,{className:"w-full",children:s("tagPage.viewFullProfile")})})})]})})}),e.jsx("div",{className:"md:w-2/3",children:e.jsxs(I,{children:[e.jsxs(W,{children:[e.jsx($,{children:s("tagPage.petInfo")}),e.jsxs(V,{children:[s("tagPage.basicDetails")," ",A]})]}),e.jsxs(G,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("tagPage.gender"),":"]}),e.jsx("span",{children:o.pet.gender||s("N/A")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("tagPage.birthday"),":"]}),e.jsx("span",{children:B(o.pet.birthday)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("tagPage.color"),":"]}),e.jsx("span",{children:o.pet.color||s("N/A")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("tagPage.weight"),":"]}),e.jsx("span",{children:o.pet.weight_kg?`${o.pet.weight_kg} kg`:s("N/A")})]})]}),o.pet.notes&&e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4"})," ",s("tagPage.notes")]}),e.jsx("p",{className:"text-muted-foreground",children:o.pet.notes})]})]}),o.pet.medical_info&&e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"})," ",s("tagPage.medicalNotes")]}),e.jsx("p",{className:"text-muted-foreground",children:String(o.pet.medical_info)})]})]}),p&&Object.keys(p).length>0&&e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"})," ",s("tagPage.emergencyContact")]}),e.jsxs("div",{className:"space-y-2",children:[p.name&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:p.name})]}),p.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:p.phone})]}),p.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:p.email})]})]})]})]})]})]})})]})})})};export{Be as default};
